<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
	登入
	<form id="loginForm" action="../login/check" method="get">
		<!-- 帳號輸入框 -->
		<label for="username">Username:</label>
		<input type="text" id="a" name="a" required value="A111111113">
		<br>

		<!-- 密碼輸入框 -->
		<label for="password">Password:</label>
		<input type="password" id="p" name="p" required value="1234">
		<br>

		<!-- 提交按鈕 -->
		<input type="submit" value="Send">
	</form>
	<script>
		// 監聽表單提交事件
		document.getElementById('loginForm').addEventListener('submit', function (event) {
			// 阻止表單的默認提交行為
			event.preventDefault();

			// 獲取表單數據
			var formData = new FormData(event.target);
			// 將表單數據轉換為 querystring
			var queryString = new URLSearchParams(formData).toString();

			// 使用 fetch API 發送 POST 請求
			fetch('../login/check?' + queryString)
				.then(response => response.json())  // 解析 JSON
				.then(data => {
					// 將 c 和 m 放入 cookies
					document.cookie = "Army=" + data.c + "; path=/";
					document.cookie = "Armyc=" + data.m + "; path=/";

					alert('login ok')
				})
				.catch(error => console.error('Error:', error));
		});
	</script>
	<hr />
	User-GetAll
	<form id="UserGetAllForm" action="../User/GetAll" method="post">
		<input type="submit" value="Send">
	</form>
	<div id="responseUserGetAll"></div>
	<script>
		// 監聽表單提交事件
		document.getElementById('UserGetAllForm').addEventListener('submit', function (event) {
			// 阻止表單的默認提交行為
			event.preventDefault();

			// 使用 fetch API 發送 POST 請求
			fetch('../User/GetAll', {
				method: 'POST'
			})
				.then(response => response.json())  // 解析 JSON
				.then(data => {
					var formattedJson = JSON.stringify(data, null, 2);
					document.getElementById("responseUserGetAll").innerHTML = '<pre>' + formattedJson + '</pre>';
				})
				.catch(error => console.error('Error:', error));
		});
	</script>
	<hr />
	Menus-GetLeftMenu
	<form id="MenuGetLeftMenuForm" action="../Menus/GetLeftMenu" method="post">
		<input type="submit" value="Send">
	</form>
	<div id="responseMenusGetLeftMenu"></div>
	<script>
		// 監聽表單提交事件
		document.getElementById('MenuGetLeftMenuForm').addEventListener('submit', function (event) {
			// 阻止表單的默認提交行為
			event.preventDefault();

			// 使用 fetch API 發送 POST 請求
			fetch('../Menus/GetLeftMenu', {
				method: 'POST'
			})
				.then(response => response.json())  // 解析 JSON
				.then(data => {
					var formattedJson = JSON.stringify(data, null, 2);
					document.getElementById("responseMenusGetLeftMenu").innerHTML = '<pre>' + formattedJson + '</pre>';
				})
				.catch(error => console.error('Error:', error));
		});
	</script>
	<hr />
	User-Export
	<form id="UserExportForm" action="../User/Export" method="post">
		<input type="submit" value="Send">
	</form>
	<hr />
	User-Register
	<form id="UserRegisterForm" action="../User/Register" method="post">
		<!-- 帳號輸入框 -->
		<label for="username">Username:</label>
		<input type="text" id="userId" name="userId" required>
		<br>

		<!-- 密碼輸入框 -->
		<label for="password">Password:</label>
		<input type="password" id="p" name="p" required>
		<br>
		<input type="checkbox" id="checkAD" name="checkAD" checked="checked" value="true">
		<br>
		<input type="submit" value="Send">
	</form>
	<hr />
	Menus-GetAllLeftMenu
	<form id="MenusGetAllLeftMenuForm" action="../Menus/GetAllLeftMenu" method="post">
		<input type="submit" value="Send">
	</form>
	<div id="responseMenusGetAllLeftMenu"></div>
	<script>
		// 監聽表單提交事件
		document.getElementById('MenusGetAllLeftMenuForm').addEventListener('submit', function (event) {
			// 阻止表單的默認提交行為
			event.preventDefault();

			// 使用 fetch API 發送 POST 請求
			fetch('../Menus/GetAllLeftMenu', {
				method: 'POST'
			})
				.then(response => response.json())  // 解析 JSON
				.then(data => {
					var formattedJson = JSON.stringify(data, null, 2);
					document.getElementById("responseMenusGetAllLeftMenu").innerHTML = '<pre>' + formattedJson + '</pre>';
				})
				.catch(error => console.error('Error:', error));
		});
	</script>
	<hr />
	User-GetUnitsByTitle
	<form id="UserGetUnitsByTitleForm" action="../User/GetUnitsByTitle" method="post">
		<label for="Title">Title:</label>
		<input type="text" id="title" name="title">
		<input type="submit" value="Send">
	</form>
	<div id="responseUserGetUnitsByTitle"></div>
	<script>
		// 監聽表單提交事件
		document.getElementById('UserGetUnitsByTitleForm').addEventListener('submit', function (event) {
			// 阻止表單的默認提交行為
			event.preventDefault();
			// 获取输入框的值
			var titleValue = document.getElementById('title').value;

			// 使用 fetch API 發送 POST 請求
			fetch('../User/GetUnitsByTitle', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'  // 指定请求体的内容类型为 JSON
				},
				body: JSON.stringify({ title: titleValue })  // 将输入框的值包含在请求体中
			})
				.then(response => response.json())  // 解析 JSON
				.then(data => {
					var formattedJson = JSON.stringify(data, null, 2);
					document.getElementById("responseUserGetUnitsByTitle").innerHTML = '<pre>' + formattedJson + '</pre>';
				})
				.catch(error => console.error('Error:', error));
		});
	</script>
	<hr />
	User-CheckMissPhoto
	<form id="UserCheckMissPhotoForm" action="../User/CheckMissPhoto" method="post">
		<input type="submit" value="Send">
	</form>
	<div id="responseUserCheckMissPhoto"></div>
	<script>
		// 監聽表單提交事件
		document.getElementById('UserCheckMissPhotoForm').addEventListener('submit', function (event) {
			// 阻止表單的默認提交行為
			event.preventDefault();

			// 使用 fetch API 發送 POST 請求
			fetch('../User/CheckMissPhoto', {
				method: 'POST'
			})
				.then(response => response.json())  // 解析 JSON
				.then(data => {
					var formattedJson = JSON.stringify(data, null, 2);
					document.getElementById("responseUserCheckMissPhoto").innerHTML = '<pre>' + formattedJson + '</pre>';
				})
				.catch(error => console.error('Error:', error));
		});
	</script>
	<hr />
</body>
</html>